---
# Copyright (C) 2020 Stefan Hornburg (Racke) <racke@linuxia.de>
# SPDX-License-Identifier: Artistic-2.0

sympa_installation_method: repository
sympa_installation_directory: /usr/local/sympa
sympa_source_directory: /usr/local/src/sympa
sympa_unix_user: sympa
sympa_unix_group: sympa

sympa_build_options:
  setuid_fcgi: false
  setuid_queue: false

sympa_repository_url: https://github.com/sympa-community/sympa.git
sympa_repository_version: sympa-6.2

sympa_source_url: "https://github.com/sympa-community/sympa/releases/download/{{ sympa_source_version }}/sympa-{{ sympa_source_version}}.tar.gz"
sympa_source_version: 6.2.56

sympa_services:
  - sympa
  - sympa-archive
  - sympa-bounce
  - sympa-outgoing
  - sympa-task

sympa_config_log_level: 0
sympa_config_password_hash: bcrypt
sympa_config_password_case: sensitive
sympa_config_sendmail: /usr/sbin/sendmail
sympa_config_sendmail_aliases: /etc/mail/sympa/aliases

sympa_lists: []
sympa_web_authentication: []

sympa_web_fcgi_enabled: true
sympa_web_fcgi_protocol: https

sympa_web_nginx_snippet: |
  location = / {
    return 301 /sympa;
  }
  location /sympa {
    include fastcgi_params;
    fastcgi_pass  unix:/run/wwsympa/wwsympa.socket;
  }

  location /static-sympa {
    alias {{ sympa_installation_directory }}/static_content;
  }

mhonarc_repository_url: https://github.com/Conservatory/MHonArc
mhonarc_source_directory: /home/sympa/MHonArc
mhonarc_repository_version: master

